@page "/import"
@using EEWA.DAL.Model
@using EEWA.WEB.Components.Pages.Import.Components
@using Telerik.Blazor.Components
@inject ImportViewModel IVM
@inject AppState AppState
<h3>Import</h3>
<h4>@ActiveTabId</h4>
<div>
    Selected Project ID: @AppState.SelectedProjectId
</div>
<div>
    <TabStrip ProjectSectionData="ProjectSectionData" ActiveTabId="ActiveTabId" ActiveTabChange="SetTabID"></TabStrip>
</div>
<div>

</div>
@code {

    private string? ActiveTabId { get; set; }
    private IEnumerable<ProjectSection>? ProjectSectionData { get; set; }


    protected override async Task OnInitializedAsync()
    {
        ProjectSectionData = IVM.GetProjectSection(@AppState.SelectedProjectId);

        await base.OnInitializedAsync();
    }
    protected async Task SetTabID(string tabId)
    {
        ActiveTabId = tabId;
        this.StateHasChanged();
    }
}
